{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Examen Samuel Apache","title":"Examen Samuel Apache"},{"location":"#examen-samuel-apache","text":"","title":"Examen Samuel Apache"},{"location":"documentacion/","text":"Documentaci\u00f3n examen Apache Parte 1 Implantaci\u00f3n de una web est\u00e1tica con Apache Instalamos apache sudo apt update sudo apt install apache2 -y Creamos los directorios para los sitios sudo mkdir -p /var/www/html/pepe.com sudo mkdir -p /var/www/html/tono.com Borramos el index.html por defecto cd /var/www/html sudo rm -rf index.html sudo systemctl restart apache2.service Borramos el 000.conf por defecto cd /etc/apache2/sites-enabled sudo a2dissite 000-default.conf sudo systemctl reload apache2.service Creamos el index.html para el sitio-1 sudo nano /var/www/html/pepe.com/index.html <html> <body> <h1>Pagina-apache-estatico</h1> <h2>Dominio pepe.com</h2> </body> </html> sudo systemctl restart apache2.service Configuramos el sitio apache para el sitio-1 cd /etc/apache2/sites-available/ sudo nano pepe.conf <VirtualHost *:3380> ServerName www.pepe.com ServerAlias pepe.com ServerAdmin webmaster@pepe.com DocumentRoot /var/www/html/pepe.com DirectoryIndex index.html ErrorLog ${APACHE_LOG_DIR}/error.log CustomLog ${APACHE_LOG_DIR}/access.log combined </VirtualHost> Comprobamos la sintaxis sudo apachectl configtest sudo a2ensite pepe.conf sudo systemctl reload apache2.service Creamos el index.html para el sitio-2 sudo nano /var/www/html/pepe.com/index.html sudo cp /home/yo/Escritorio/Comparte/site /var/www/html/tono.com sudo systemctl restart apache2.service Configuramos el sitio apache para el sitio-2 cd /etc/apache2/sites-available/ sudo nano tono.conf <VirtualHost *:4480> ServerName www.tono.com ServerAlias tono.com ServerAdmin webmaster@tono.com DocumentRoot /var/www/html/tono.com/site/ DirectoryIndex index.html ErrorLog ${APACHE_LOG_DIR}/error.log CustomLog ${APACHE_LOG_DIR}/access.log combined </VirtualHost> Comprobamos-sintaxis sudo apachectl configtest sudo a2ensite tono.conf sudo systemctl reload apache2.service Configuramos apache para escuchar por los puertos 3380 para el primer sitio y 4480 para el segundo sitio sudo nano /etc/apache2/ports.conf # If you just change the port or add more ports here, you will likely also # have to change the VirtualHost statement in # /etc/apache2/sites-enabled/000-default.conf Listen 80 Listen 3380 Listen 4480 <IfModule ssl_module> Listen 443 </IfModule> <IfModule mod_gnutls.c> Listen 443 </IfModule> sudo systemctl restart apache2.service Agregamos estas l\u00edneas en el archivo /etc/hosts para las pruebas sudo nano /etc/hosts 127.0.0.1 localhost 127.0.1.1 yo-Virtual 127.0.0.1 www.pepe.com 127.0.0.1 www.tono.com Asignar los permisos correctos para el usuario www-data sudo chown -R www-data:www-data /var/www/html/pepe.com sudo chown -R www-data:www-data /var/www/html/tono.com sudo chmod 755 /var/www/html/tono.com sudo chmod 755 /var/www/html/pepe.com sudo systemctl restart apache2.service Permisos adicionales Al estar fuera del directorio /var/www en mi caso debo ajustar los permisos para que apache pueda acceder a ellos, por lo que dar\u00e9 adem\u00e1s permisos a los directorios que apache necesita atravesar, por que sino me da error de permisos: sudo chmod o+x ~ sudo chmod -R 755 ~/Directorio-site1 fuera de /var/www sudo chmod -R 755 ~/Directorio-site2 fuera de /var/www sudo systemctl restart apache2.service Para el primer sitio: http://www.pepe.com:3380 Para el segundo sitio: http://www.tono.com:4480","title":"Documentaci\u00f3n examen Apache"},{"location":"documentacion/#documentacion-examen-apache","text":"","title":"Documentaci\u00f3n examen Apache"},{"location":"documentacion/#parte-1-implantacion-de-una-web-estatica-con-apache","text":"","title":"Parte 1 Implantaci\u00f3n de una web est\u00e1tica con Apache"},{"location":"documentacion/#instalamos-apache","text":"sudo apt update sudo apt install apache2 -y","title":"Instalamos apache"},{"location":"documentacion/#creamos-los-directorios-para-los-sitios","text":"sudo mkdir -p /var/www/html/pepe.com sudo mkdir -p /var/www/html/tono.com","title":"Creamos los directorios para los sitios"},{"location":"documentacion/#borramos-el-indexhtml-por-defecto","text":"cd /var/www/html sudo rm -rf index.html sudo systemctl restart apache2.service","title":"Borramos el index.html por defecto"},{"location":"documentacion/#borramos-el-000conf-por-defecto","text":"cd /etc/apache2/sites-enabled sudo a2dissite 000-default.conf sudo systemctl reload apache2.service","title":"Borramos el 000.conf por defecto"},{"location":"documentacion/#creamos-el-indexhtml-para-el-sitio-1","text":"sudo nano /var/www/html/pepe.com/index.html <html> <body> <h1>Pagina-apache-estatico</h1> <h2>Dominio pepe.com</h2> </body> </html> sudo systemctl restart apache2.service","title":"Creamos el index.html para el sitio-1"},{"location":"documentacion/#configuramos-el-sitio-apache-para-el-sitio-1","text":"cd /etc/apache2/sites-available/ sudo nano pepe.conf <VirtualHost *:3380> ServerName www.pepe.com ServerAlias pepe.com ServerAdmin webmaster@pepe.com DocumentRoot /var/www/html/pepe.com DirectoryIndex index.html ErrorLog ${APACHE_LOG_DIR}/error.log CustomLog ${APACHE_LOG_DIR}/access.log combined </VirtualHost>","title":"Configuramos el sitio apache para el sitio-1"},{"location":"documentacion/#comprobamos-la-sintaxis","text":"sudo apachectl configtest sudo a2ensite pepe.conf sudo systemctl reload apache2.service","title":"Comprobamos la sintaxis"},{"location":"documentacion/#creamos-el-indexhtml-para-el-sitio-2","text":"sudo nano /var/www/html/pepe.com/index.html sudo cp /home/yo/Escritorio/Comparte/site /var/www/html/tono.com sudo systemctl restart apache2.service","title":"Creamos el index.html para el sitio-2"},{"location":"documentacion/#configuramos-el-sitio-apache-para-el-sitio-2","text":"cd /etc/apache2/sites-available/ sudo nano tono.conf <VirtualHost *:4480> ServerName www.tono.com ServerAlias tono.com ServerAdmin webmaster@tono.com DocumentRoot /var/www/html/tono.com/site/ DirectoryIndex index.html ErrorLog ${APACHE_LOG_DIR}/error.log CustomLog ${APACHE_LOG_DIR}/access.log combined </VirtualHost>","title":"Configuramos el sitio apache para el sitio-2"},{"location":"documentacion/#comprobamos-sintaxis","text":"sudo apachectl configtest sudo a2ensite tono.conf sudo systemctl reload apache2.service","title":"Comprobamos-sintaxis"},{"location":"documentacion/#configuramos-apache-para-escuchar-por-los-puertos-3380-para-el-primer-sitio-y-4480-para-el-segundo-sitio","text":"sudo nano /etc/apache2/ports.conf # If you just change the port or add more ports here, you will likely also # have to change the VirtualHost statement in # /etc/apache2/sites-enabled/000-default.conf Listen 80 Listen 3380 Listen 4480 <IfModule ssl_module> Listen 443 </IfModule> <IfModule mod_gnutls.c> Listen 443 </IfModule> sudo systemctl restart apache2.service","title":"Configuramos apache para escuchar por los puertos 3380 para el primer sitio y 4480 para el segundo sitio"},{"location":"documentacion/#agregamos-estas-lineas-en-el-archivo-etchosts-para-las-pruebas","text":"sudo nano /etc/hosts 127.0.0.1 localhost 127.0.1.1 yo-Virtual 127.0.0.1 www.pepe.com 127.0.0.1 www.tono.com","title":"Agregamos estas l\u00edneas en el archivo /etc/hosts para las pruebas"},{"location":"documentacion/#asignar-los-permisos-correctos-para-el-usuario-www-data","text":"sudo chown -R www-data:www-data /var/www/html/pepe.com sudo chown -R www-data:www-data /var/www/html/tono.com sudo chmod 755 /var/www/html/tono.com sudo chmod 755 /var/www/html/pepe.com sudo systemctl restart apache2.service","title":"Asignar los permisos correctos para el usuario www-data"},{"location":"documentacion/#permisos-adicionales","text":"Al estar fuera del directorio /var/www en mi caso debo ajustar los permisos para que apache pueda acceder a ellos, por lo que dar\u00e9 adem\u00e1s permisos a los directorios que apache necesita atravesar, por que sino me da error de permisos: sudo chmod o+x ~ sudo chmod -R 755 ~/Directorio-site1 fuera de /var/www sudo chmod -R 755 ~/Directorio-site2 fuera de /var/www sudo systemctl restart apache2.service Para el primer sitio: http://www.pepe.com:3380 Para el segundo sitio: http://www.tono.com:4480","title":"Permisos adicionales"}]}